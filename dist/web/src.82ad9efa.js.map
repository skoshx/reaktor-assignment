{"version":3,"sources":["../src/options.js","../src/constants.js","../src/create-element.js","../src/component.js","../src/create-context.js","../src/util.js","../src/diff/children.js","../src/diff/props.js","../src/diff/index.js","../src/render.js","../src/clone-element.js","../src/diff/catch-error.js","../src/index.js","components/header.tsx","../src/index.ts","../src/utils.ts","animation.ts","config.ts","event.ts","../node_modules/ky/index.js","logger.ts","components/progress.tsx","util.ts","components/tab.tsx","index.tsx"],"names":["options","isValidElement","rerenderQueue","defer","prevDebounce","i","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","type","children","key","ref","normalizedProps","arguments","length","push","defaultProps","createVNode","original","vnode","undefined","constructor","createRef","current","Fragment","Component","context","getDomSibling","childIndex","indexOf","sibling","updateParentDomPointers","child","base","enqueueRender","c","process","debounceRendering","queue","sort","a","b","some","component","commitQueue","oldVNode","oldDom","parentDom","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","childVNode","newDom","firstChildDom","refs","oldChildren","oldChildrenLength","Array","isArray","reorderChildren","placeChild","value","unmount","applyRef","tmp","toChildArray","out","nextDom","sibDom","outer","appendChild","nextSibling","insertBefore","diffProps","dom","newProps","oldProps","hydrate","setProperty","setStyle","style","test","name","oldValue","useCapture","o","cssText","replace","toLowerCase","slice","_listeners","addEventListener","eventProxyCapture","eventProxy","removeEventListener","e","setAttribute","removeAttribute","event","newVNode","isNew","oldState","snapshot","clearProcessingException","provider","componentContext","newType","contextType","prototype","render","doRender","sub","state","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","root","cb","call","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","innerHTML","firstChild","checked","parentVNode","skipRemove","r","componentWillUnmount","this","replaceNode","cloneElement","createContext","defaultValue","contextId","Consumer","contextValue","Provider","subs","ctx","_props","old","splice","error","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","update","callback","s","forceUpdate","Promise","then","bind","resolve","setTimeout","EMPTY","let","const","super","f","currentIndex","currentComponent","prevRaf","currentHook","afterPaintEffects","oldBeforeDiff","oldBeforeRender","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","index","hooks","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","_reducer","action","nextValue","useEffect","args","argsChanged","useLayoutEffect","useRef","initialValue","useMemo","useImperativeHandle","createHandle","concat","factory","useCallback","useContext","useDebugValue","formatter","useErrorBoundary","errState","err","flushAfterPaintEffects","forEach","invokeCleanup","invokeEffect","requestAnimationFrame","raf","done","clearTimeout","timeout","HAS_RAF","cancelAnimationFrame","filter","hook","comp","oldArgs","newArgs","arg","ky","globals","globalProperties","property","Object","defineProperty","get","globalThis","isObject","supportsAbortController","AbortController","supportsStreams","ReadableStream","supportsFormData","FormData","mergeHeaders","source1","source2","result","Headers","isHeadersInstance","source","delete","set","deepMerge","sources","returnValue","headers","entries","requestMethods","responseTypes","json","text","formData","arrayBuffer","blob","retryMethods","retryStatusCodes","retryAfterStatusCodes","stop","Symbol","HTTPError","Error","response","request","statusText","String","status","TimeoutError","delay","ms","abortController","reject","timeoutID","abort","fetch","catch","normalizeRequestMethod","input","includes","toUpperCase","defaultRetryOptions","limit","methods","statusCodes","afterStatusCodes","normalizeRetryOptions","retry","maxSafeTimeout","Ky","_retryCount","_input","_options","credentials","beforeRequest","beforeRetry","afterResponse","method","prefixUrl","throwHttpErrors","URL","Request","TypeError","startsWith","endsWith","signal","searchParams","URLSearchParams","toString","url","body","JSON","stringify","fn","RangeError","_fetch","modifiedResponse","_decorateResponse","clone","Response","ok","onDownloadProgress","_stream","_retry","mimeType","parseJson","_calculateRetryDelay","retryAfter","after","Number","isNaN","Date","parse","now","maxRetryAfter","BACKOFF_FACTOR","Math","min","hookResult","retryCount","totalBytes","transferredBytes","start","controller","reader","getReader","percent","Uint8Array","read","close","byteLength","enqueue","validateAndMerge","createInstance","defaults","create","newDefaults","extend"],"mappings":"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","file":"src.82ad9efa.js","sourceRoot":"../../src","sourcesContent":["import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError,\n\t_vnodeId: 0\n};\n\nexport default options;\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import options from './options';\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++options._vnodeId : original\n\t};\n\n\tif (options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (typeof childVNode == 'string' || typeof childVNode == 'number') {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children != null && // Can be null if childVNode suspended\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t// there are probably some internal data structures that aren't\n\t\t\t// updated properly.\n\t\t\t//\n\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t// value check in `diff()` won't be skipped.\n\t\t\tif (!isHydrating && newParentVNode.type === 'option') {\n\t\t\t\t// @ts-ignore We have validated that the type of parentDOM is 'option'\n\t\t\t\t// in the above check\n\t\t\t\tparentDom.value = '';\n\t\t\t} else if (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\tfor (let tmp = 0; tmp < childVNode._children.length; tmp++) {\n\t\tlet vnode = childVNode._children[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tchildVNode._children,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink[H:h]/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\t//\n\t\t\t// Note: This takes advantage of Text nodes having `.localName=undefined`,\n\t\t\t// which is loosely equal to Text VNodes' `.type=null`. Elements use string equality.\n\t\t\tif (child != null && (dom == child || child.localName == nodeType)) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\tif (excessDomChildren != null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (let i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tdom.firstChild,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value || (nodeType === 'progress' && !i))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type != 'function') {\n\t\tskipRemove = (dom = vnode._dom) != null;\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom != null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? EMPTY_ARR.slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","import { cloneElement, createElement, Component, toChildArray } from 'preact';\nimport { exec, prepareVNodeForRanking, assign, pathRankSort } from './util';\n\nlet customHistory = null;\n\nconst ROUTERS = [];\n\nconst subscribers = [];\n\nconst EMPTY = {};\n\nfunction setUrl(url, type='push') {\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tlet url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn `${url.pathname || ''}${url.search || ''}`;\n}\n\n\n\nfunction route(url, replace=false) {\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (let i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) return true;\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tlet didRoute = false;\n\tfor (let i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (let i=subscribers.length; i--; ) {\n\t\tsubscribers[i](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) return;\n\n\tlet href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) return;\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\trouteFromLink(e.currentTarget || e.target || this);\n\treturn prevent(e);\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) e.stopImmediatePropagation();\n\t\tif (e.stopPropagation) e.stopPropagation();\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\n\tlet t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href')) {\n\t\t\tif (t.hasAttribute('native')) return;\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nlet eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) return;\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', () => {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nclass Router extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tshouldComponentUpdate(props) {\n\t\tif (props.static!==true) return true;\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t}\n\n\t/** Check if the given URL can be matched against any children */\n\tcanRoute(url) {\n\t\tconst children = toChildArray(this.props.children);\n\t\treturn this.getMatchingChildren(children, url, false).length > 0;\n\t}\n\n\t/** Re-render children with a new URL to match against. */\n\trouteTo(url) {\n\t\tthis.setState({ url });\n\n\t\tconst didRoute = this.canRoute(url);\n\n\t\t// trigger a manual re-route if we're not in the middle of an update:\n\t\tif (!this.updating) this.forceUpdate();\n\n\t\treturn didRoute;\n\t}\n\n\tcomponentWillMount() {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidMount() {\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen((location) => {\n\t\t\t\tthis.routeTo(`${location.pathname || ''}${location.search || ''}`);\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (typeof this.unlisten==='function') this.unlisten();\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t}\n\n\tcomponentWillUpdate() {\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updating = false;\n\t}\n\n\tgetMatchingChildren(children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( vnode => {\n\t\t\t\tlet matches = exec(url, vnode.props.path, vnode.props);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tlet newProps = { url, matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t}\n\n\trender({ children, onChange }, { url }) {\n\t\tlet active = this.getMatchingChildren(toChildArray(children), url, true);\n\n\t\tlet current = active[0] || null;\n\n\t\tlet previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl,\n\t\t\t\t\tprevious,\n\t\t\t\t\tactive,\n\t\t\t\t\tcurrent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t}\n}\n\nconst Link = (props) => (\n\tcreateElement('a', assign({ onClick: handleLinkClick }, props))\n);\n\nconst Route = props => createElement(props.component, props);\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\nRouter.exec = exec;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link, exec };\nexport default Router;\n","/**\n * SkoshX (https://skoshx.com)\n * Header component\n */\n\nimport { h } from \"preact\";\n\nexport const Header = () => {\n  const logoStyle = {\n    fontSize: \"20px\",\n    color: \"var(--theme-color)\",\n    textAlign: 'center'\n  };\n  return (\n    <header>\n      <div className=\"logo\" style=\"width: 100%;\">\n        <a href=\"/\">\n          <h5 style={logoStyle}>Reaktor Bad API Assignment</h5>\n        </a>\n      </div>\n    </header>\n  );\n};\n","/**\n *  @license\n *  Copyright 2017 Adam Miskiewicz\n *\n *  Use of this source code is governed by a MIT-style license that can be found\n *  in the LICENSE file or at https://opensource.org/licenses/MIT.\n */\n\nimport { invariant, withDefault } from \"./utils\";\n\nexport interface SpringConfig {\n  fromValue: number; // Starting value of the animation.\n  toValue: number; // Ending value of the animation.\n  stiffness: number; // The spring stiffness coefficient.\n  damping: number; // Defines how the springs motion should be damped due to the forces of friction.\n  mass: number; // The mass of the object attached to the end of the spring.\n  initialVelocity: number; // The initial velocity (in units/ms) of the object attached to the spring.\n  allowsOverdamping: boolean; // Whether or not the spring allows \"overdamping\" (a damping ratio > 1). Defaults to false.\n  overshootClamping: boolean; // False when overshooting is allowed, true when it is not. Defaults to false.\n  restVelocityThreshold: number; // When spring's velocity is below `restVelocityThreshold`, it is at rest. Defaults to .001.\n  restDisplacementThreshold: number; // When the spring's displacement (current value) is below `restDisplacementThreshold`, it is at rest. Defaults to .001.\n}\n\nexport type PartialSpringConfig = Partial<SpringConfig>;\n\nexport type SpringListenerFn = (spring: Spring) => void;\nexport interface SpringListener {\n  onUpdate?: SpringListenerFn;\n  onStart?: SpringListenerFn;\n  onStop?: SpringListenerFn;\n}\n\n/**\n * Implements a spring physics simulation based on the equations behind\n * damped harmonic oscillators (https://en.wikipedia.org/wiki/Harmonic_oscillator#Damped_harmonic_oscillator).\n */\nexport class Spring {\n  static MAX_DELTA_TIME_MS = 1 / 60 * 1000 * 4; // advance 4 frames at max\n\n  _listeners: SpringListener[] = [];\n\n  private _config: SpringConfig;\n  private _currentAnimationStep: number = 0; // current requestAnimationFrame\n\n  private _currentTime: number = 0; // Current timestamp of animation in ms (real time)\n  private _springTime: number = 0; // Current time along the spring curve in ms (zero-based)\n\n  private _currentValue: number = 0; // the current value of the spring\n  private _currentVelocity: number = 0; // the current velocity of the spring\n  private _isAnimating: boolean = false;\n\n  private _oscillationVelocityPairs = [];\n\n  constructor(config: PartialSpringConfig = {}) {\n    this._config = {\n      fromValue: withDefault(config.fromValue, 0),\n      toValue: withDefault(config.toValue, 1),\n      stiffness: withDefault(config.stiffness, 100),\n      damping: withDefault(config.damping, 10),\n      mass: withDefault(config.mass, 1),\n      initialVelocity: withDefault(config.initialVelocity, 0),\n      overshootClamping: withDefault(config.overshootClamping, false),\n      allowsOverdamping: withDefault(config.allowsOverdamping, false),\n      restVelocityThreshold: withDefault(config.restVelocityThreshold, 0.001),\n      restDisplacementThreshold: withDefault(\n        config.restDisplacementThreshold,\n        0.001\n      )\n    };\n    this._currentValue = this._config.fromValue;\n    this._currentVelocity = this._config.initialVelocity;\n  }\n\n  /**\n   * If `fromValue` differs from `toValue`, or `initialVelocity` is non-zero,\n   * start the simulation and call the `onStart` listeners.\n   */\n  start(): this {\n    const { fromValue, toValue, initialVelocity } = this._config;\n\n    if (fromValue !== toValue || initialVelocity !== 0) {\n      this._reset();\n      this._isAnimating = true;\n\n      if (!this._currentAnimationStep) {\n        this._notifyListeners(\"onStart\");\n        this._currentAnimationStep = requestAnimationFrame((t: number) => {\n          this._step(Date.now());\n        });\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * If a simulation is in progress, stop it and call the `onStop` listeners.\n   */\n  stop(): this {\n    if (!this._isAnimating) {\n      return this;\n    }\n\n    this._isAnimating = false;\n    this._notifyListeners(\"onStop\");\n\n    if (this._currentAnimationStep) {\n      cancelAnimationFrame(this._currentAnimationStep);\n      this._currentAnimationStep = 0;\n    }\n\n    return this;\n  }\n\n  /**\n   * The spring's current position.\n   */\n  get currentValue(): number {\n    return this._currentValue;\n  }\n\n  /**\n   * The spring's current velocity in units / ms.\n   */\n  get currentVelocity(): number {\n    return this._currentVelocity; // give velocity in units/ms;\n  }\n\n  /**\n   * If the spring has reached its `toValue`, or if its velocity is below the\n   * `restVelocityThreshold`, it is considered at rest. If `stop()` is called\n   * during a simulation, both `isAnimating` and `isAtRest` will be false.\n   */\n  get isAtRest(): boolean {\n    return this._isSpringAtRest();\n  }\n\n  /**\n   * Whether or not the spring is currently emitting values.\n   *\n   * Note: this is distinct from whether or not it is at rest.\n   * See also `isAtRest`.\n   */\n  get isAnimating(): boolean {\n    return this._isAnimating;\n  }\n\n  /**\n   * Updates the spring config with the given values.  Values not explicitly\n   * supplied will be reused from the existing config.\n   */\n  updateConfig(updatedConfig: PartialSpringConfig): this {\n    // When we update the spring config, we reset the simulation to ensure the\n    // spring always moves the full distance between `fromValue` and `toValue`.\n    // To ensure that the simulation behaves correctly if those values aren't\n    // being changed in `updatedConfig`, we run the simulation with `_step()`\n    // and default `fromValue` and `initialVelocity` to their current values.\n\n    this._advanceSpringToTime(Date.now());\n\n    const baseConfig = {\n      fromValue: this._currentValue,\n      initialVelocity: this._currentVelocity\n    };\n\n    this._config = {\n      ...this._config,\n      ...baseConfig,\n      ...updatedConfig\n    };\n\n    this._reset();\n\n    return this;\n  }\n\n  /**\n   * The provided callback will be invoked when the simulation begins.\n   */\n  onStart(listener: SpringListenerFn): this {\n    this._listeners.push({ onStart: listener });\n    return this;\n  }\n\n  /**\n   * The provided callback will be invoked on each frame while the simulation is\n   * running.\n   */\n  onUpdate(listener: SpringListenerFn): this {\n    this._listeners.push({ onUpdate: listener });\n    return this;\n  }\n\n  /**\n   * The provided callback will be invoked when the simulation ends.\n   */\n  onStop(listener: SpringListenerFn): this {\n    this._listeners.push({ onStop: listener });\n    return this;\n  }\n\n  /**\n   * Remove a single listener from this spring.\n   */\n  removeListener(listenerFn: SpringListenerFn): this {\n    this._listeners = this._listeners.reduce(\n      (result, listener) => {\n        const foundListenerFn =\n          Object.values(listener).indexOf(listenerFn) !== -1;\n        if (!foundListenerFn) {\n          result.push(listener);\n        }\n        return result;\n      },\n      [] as SpringListener[]\n    );\n    return this;\n  }\n\n  /**\n   * Removes all listeners from this spring.\n   */\n  removeAllListeners(): this {\n    this._listeners = [];\n    return this;\n  }\n\n  private _reset() {\n    this._currentTime = Date.now();\n    this._springTime = 0.0;\n    this._currentValue = this._config.fromValue;\n    this._currentVelocity = this._config.initialVelocity;\n  }\n\n  private _notifyListeners(eventName: keyof SpringListener) {\n    this._listeners.forEach((listener: Partial<SpringListener>) => {\n      const maybeListenerFn = listener[eventName];\n      if (typeof maybeListenerFn === \"function\") {\n        maybeListenerFn(this);\n      }\n    });\n  }\n\n  /**\n   * `_step` is the main loop.  While the animation is running, it updates the\n   * current state once per frame, and schedules the next frame if the spring is\n   * not yet at rest.\n   */\n  private _step(timestamp: number) {\n    this._advanceSpringToTime(timestamp, true);\n\n    // check `_isAnimating`, in case `stop()` got called during\n    // `_advanceSpringToTime()`\n    if (this._isAnimating) {\n      this._currentAnimationStep = requestAnimationFrame((t: number) =>\n        this._step(Date.now())\n      );\n    }\n  }\n\n  private _advanceSpringToTime(\n    timestamp: number,\n    shouldNotifyListeners: boolean = false\n  ) {\n    // `_advanceSpringToTime` updates `_currentTime` and triggers the listeners.\n    // Because of these side effects, it's only safe to call when an animation\n    // is already in-progress.\n    if (!this._isAnimating) {\n      return;\n    }\n\n    let deltaTime = timestamp - this._currentTime;\n\n    // If for some reason we lost a lot of frames (e.g. process large payload or\n    // stopped in the debugger), we only advance by 4 frames worth of\n    // computation and will continue on the next frame. It's better to have it\n    // running at slower speed than jumping to the end.\n    if (deltaTime > Spring.MAX_DELTA_TIME_MS) {\n      deltaTime = Spring.MAX_DELTA_TIME_MS;\n    }\n    this._springTime += deltaTime;\n\n    const c = this._config.damping;\n    const m = this._config.mass;\n    const k = this._config.stiffness;\n    const fromValue = this._config.fromValue;\n    const toValue = this._config.toValue;\n    const v0 = -this._config.initialVelocity;\n\n    invariant(m > 0, \"Mass value must be greater than 0\");\n    invariant(k > 0, \"Stiffness value must be greater than 0\");\n    invariant(c > 0, \"Damping value must be greater than 0\");\n\n    let zeta = c / (2 * Math.sqrt(k * m)); // damping ratio (dimensionless)\n    const omega0 = Math.sqrt(k / m) / 1000; // undamped angular frequency of the oscillator (rad/ms)\n    const omega1 = omega0 * Math.sqrt(1.0 - zeta * zeta); // exponential decay\n    const omega2 = omega0 * Math.sqrt(zeta * zeta - 1.0); // frequency of damped oscillation\n    const x0 = toValue - fromValue; // initial displacement of the spring at t = 0\n\n    if (zeta > 1 && !this._config.allowsOverdamping) {\n      zeta = 1;\n    }\n\n    let oscillation = 0.0;\n    let velocity = 0.0;\n    const t = this._springTime;\n    if (zeta < 1) {\n      // Under damped\n      const envelope = Math.exp(-zeta * omega0 * t);\n      oscillation =\n        toValue -\n        envelope *\n          ((v0 + zeta * omega0 * x0) / omega1 * Math.sin(omega1 * t) +\n            x0 * Math.cos(omega1 * t));\n      // This looks crazy -- it's actually just the derivative of the\n      // oscillation function\n      velocity =\n        zeta *\n          omega0 *\n          envelope *\n          (Math.sin(omega1 * t) * (v0 + zeta * omega0 * x0) / omega1 +\n            x0 * Math.cos(omega1 * t)) -\n        envelope *\n          (Math.cos(omega1 * t) * (v0 + zeta * omega0 * x0) -\n            omega1 * x0 * Math.sin(omega1 * t));\n    } else if (zeta === 1) {\n      // Critically damped\n      const envelope = Math.exp(-omega0 * t);\n      oscillation = toValue - envelope * (x0 + (v0 + omega0 * x0) * t);\n      velocity =\n        envelope * (v0 * (t * omega0 - 1) + t * x0 * (omega0 * omega0));\n    } else {\n      // Overdamped\n      const envelope = Math.exp(-zeta * omega0 * t);\n      oscillation =\n        toValue -\n        envelope *\n          ((v0 + zeta * omega0 * x0) * Math.sinh(omega2 * t) +\n            omega2 * x0 * Math.cosh(omega2 * t)) /\n          omega2;\n      velocity =\n        envelope *\n          zeta *\n          omega0 *\n          (Math.sinh(omega2 * t) * (v0 + zeta * omega0 * x0) +\n            x0 * omega2 * Math.cosh(omega2 * t)) /\n          omega2 -\n        envelope *\n          (omega2 * Math.cosh(omega2 * t) * (v0 + zeta * omega0 * x0) +\n            omega2 * omega2 * x0 * Math.sinh(omega2 * t)) /\n          omega2;\n    }\n\n    this._currentTime = timestamp;\n    this._currentValue = oscillation;\n    this._currentVelocity = velocity;\n\n    if (!shouldNotifyListeners) {\n      return;\n    }\n\n    this._notifyListeners(\"onUpdate\");\n    if (!this._isAnimating) {\n      // a listener might have stopped us in _onUpdate\n      return;\n    }\n\n    // If the Spring is overshooting (when overshoot clamping is on), or if the\n    // spring is at rest (based on the thresholds set in the config), stop the\n    // animation.\n    if (this._isSpringOvershooting() || this._isSpringAtRest()) {\n      if (k !== 0) {\n        // Ensure that we end up with a round value\n        this._currentValue = toValue;\n        this._currentVelocity = 0;\n        this._notifyListeners(\"onUpdate\");\n      }\n\n      this.stop();\n      return;\n    }\n  }\n\n  private _isSpringOvershooting() {\n    const { stiffness, fromValue, toValue, overshootClamping } = this._config;\n    let isOvershooting = false;\n    if (overshootClamping && stiffness !== 0) {\n      if (fromValue < toValue) {\n        isOvershooting = this._currentValue > toValue;\n      } else {\n        isOvershooting = this._currentValue < toValue;\n      }\n    }\n    return isOvershooting;\n  }\n\n  private _isSpringAtRest() {\n    const {\n      stiffness,\n      toValue,\n      restDisplacementThreshold,\n      restVelocityThreshold\n    } = this._config;\n\n    const isNoVelocity =\n      Math.abs(this._currentVelocity) <= restVelocityThreshold;\n    const isNoDisplacement =\n      stiffness !== 0 &&\n      Math.abs(toValue - this._currentValue) <= restDisplacementThreshold;\n    return isNoDisplacement && isNoVelocity;\n  }\n}\n","/**\n *  @license\n *  Copyright 2017 Adam Miskiewicz\n *\n *  Use of this source code is governed by a MIT-style license that can be found\n *  in the LICENSE file or at https://opensource.org/licenses/MIT.\n */\n\nexport function invariant(condition: boolean, message: string): void {\n  if (!condition) {\n    throw new Error(message);\n  }\n}\n\nexport function withDefault<X>(maybeValue: X | undefined, defaultValue: X): X {\n  return typeof maybeValue !== \"undefined\" && maybeValue !== null\n    ? (maybeValue as X)\n    : defaultValue;\n}\n","/**\n * SkoshX (https://skoshx.com)\n * Physics/Spring based animation functions\n */\n\nimport { Spring, PartialSpringConfig } from \"wobble\";\n\nexport interface SpringType {\n  mass: number;\n  stiffness: number;\n  damping: number;\n}\n\nexport const SpringTypes = {\n  BOUNCY: {\n    mass: 1,\n    stiffness: 100,\n    damping: 10,\n  },\n  DEFAULT: {\n    mass: 3,\n    stiffness: 1000,\n    damping: 500,\n  },\n  SLOWED: {\n    mass: 1,\n    stiffness: 200,\n    damping: 100,\n  },\n  EXTRA_SLOWED: {\n    mass: 1,\n    stiffness: 100,\n    damping: 100,\n  },\n  SUPER_SLOWED: {\n    mass: 1,\n    stiffness: 10,\n    damping: 100,\n  },\n};\n\nexport interface AnimationDescription {\n  from: number;\n  to: number;\n}\n\nexport type SetterFunction = (element: HTMLElement, spring: Spring) => void;\nexport type PureSpringCallback = (spring: Spring) => void;\n\nexport function pureSpring(\n  description: AnimationDescription,\n  callback: PureSpringCallback,\n  config?: PartialSpringConfig,\n  type?: SpringType\n): Promise<void> {\n  return new Promise(async (resolve) => {\n    const defaults = {\n      stiffness: 1000,\n      damping: 500,\n      mass: 3,\n      fromValue: description.from,\n      toValue: description.to,\n    };\n    config = { ...defaults, ...config, ...type };\n    const spring = new Spring(config);\n    // Listeners\n    spring\n      .onStart(() => {})\n      .onUpdate((s) => {\n        callback(s);\n      })\n      .onStop(() => {\n        resolve();\n      })\n      .start();\n  });\n}\n\nexport function animation(\n  description: AnimationDescription,\n  element: HTMLElement,\n  setter: SetterFunction,\n  config?: PartialSpringConfig,\n  type?: SpringType\n): Promise<void> {\n  return new Promise(async (resolve) => {\n    const defaults = {\n      stiffness: 1000,\n      damping: 500,\n      mass: 3,\n      fromValue: description.from,\n      toValue: description.to,\n    };\n    config = { ...defaults, ...config, ...type };\n    if (config.fromValue === config.toValue) resolve(); // Resolve if there is nothing to animate\n\n    const spring = new Spring(config);\n    // Listeners\n    spring\n      .onStart(() => {})\n      .onUpdate((s) => {\n        setter(element, s);\n      })\n      .onStop(() => {\n        resolve();\n      })\n      .start();\n  });\n}\n\nexport function springScrollTo(\n  element: HTMLElement,\n  target: HTMLElement,\n  config?: PartialSpringConfig,\n  type?: SpringType\n): Promise<void> {\n  return new Promise(async (resolve) => {\n    const desc: AnimationDescription = {\n      from: element.scrollTop,\n      to: target.getBoundingClientRect().top + element.scrollTop,\n    };\n    await animation(desc, element, ScrollSetter, config, type);\n    resolve();\n  });\n}\n\nexport function scrollTop(\n  element: HTMLElement,\n  config?: PartialSpringConfig\n): Promise<void> {\n  return new Promise(async (resolve) => {\n    const desc: AnimationDescription = {\n      from: element.scrollTop,\n      to: 0,\n    };\n    await animation(desc, element, ScrollSetter, config, SpringTypes.DEFAULT);\n    resolve();\n  });\n}\n\nexport function expand(\n  element: HTMLElement,\n  config?: PartialSpringConfig,\n  type?: SpringType\n): Promise<void> {\n  return new Promise(async (resolve) => {\n    const height: number = element.scrollHeight;\n    const heightAnimation: AnimationDescription = { from: 0, to: height };\n    await animation(\n      heightAnimation,\n      element,\n      PropertySetter(\"height\", \"px\"),\n      config,\n      type\n    );\n    resolve();\n  });\n}\n\nexport function collapse(\n  element: HTMLElement,\n  config?: PartialSpringConfig,\n  type?: SpringType\n): Promise<void> {\n  return new Promise(async (resolve) => {\n    // Set overflow hidden\n    element.style.overflow = \"hidden\";\n\n    const height: number = element.getBoundingClientRect().height;\n    const paddingTop: number = parseInt(getComputedStyle(element).paddingTop);\n    const paddingBottom: number = parseInt(\n      getComputedStyle(element).paddingBottom\n    );\n    const heightAnimation: AnimationDescription = { from: height, to: 0 };\n    const topAnimation: AnimationDescription = { from: paddingTop, to: 0 };\n    const bottomAnimation: AnimationDescription = {\n      from: paddingBottom,\n      to: 0,\n    };\n    await Promise.all([\n      animation(\n        heightAnimation,\n        element,\n        PropertySetter(\"height\", \"px\"),\n        config,\n        type\n      ),\n      animation(\n        topAnimation,\n        element,\n        PropertySetter(\"paddingTop\", \"px\"),\n        config,\n        type\n      ),\n      animation(\n        bottomAnimation,\n        element,\n        PropertySetter(\"paddingBottom\", \"px\"),\n        config,\n        type\n      ),\n    ]);\n    resolve();\n  });\n}\n\nexport function fadeOut(\n  element: HTMLElement,\n  config?: PartialSpringConfig,\n  type?: SpringType\n): Promise<void> {\n  return new Promise(async (resolve) => {\n    const fadeAnimation: AnimationDescription = { from: 1, to: 0 };\n    await animation(fadeAnimation, element, OpacitySetter, config, type);\n    resolve();\n  });\n}\n\nexport function fadeIn(\n  element: HTMLElement,\n  config?: PartialSpringConfig,\n  type?: SpringType\n): Promise<void> {\n  return new Promise(async (resolve) => {\n    const fadeAnimation: AnimationDescription = { from: 0, to: 1 };\n    await animation(fadeAnimation, element, OpacitySetter, config, type);\n    resolve();\n  });\n}\n\n// Setters\nexport const PropertySetter = (property: any, unit: string = \"\") => {\n  return (el: HTMLElement, spring: Spring) => {\n    el.style[property] = `${spring.currentValue}${unit}`;\n  };\n};\nexport const OpacitySetter: SetterFunction = (\n  element: HTMLElement,\n  spring: Spring\n) => {\n  element.style.opacity = spring.currentValue.toString();\n};\nexport const ScrollSetter: SetterFunction = (\n  element: HTMLElement,\n  spring: Spring\n) => {\n  element.scrollTop = spring.currentValue;\n};\n","/**\n * SkoshX (https://skoshx.com)\n * API Config\n */\n\nexport const DEBUG = process.env.NODE_ENV !== \"production\";\n// export const API_ENDPOINT_BASE = \"https://bad-api-assignment.reaktor.com\";\nexport const API_ENDPOINT_BASE = \"http://localhost:3001\";\n\nexport const getProductsEndpoint = (category: string) => `${API_ENDPOINT_BASE}/v2/products/${category}`;\nexport const getAvailabilityEndpoint = (manufacturer: string) => `${API_ENDPOINT_BASE}/v2/availability/${manufacturer}`;\n","/**\n * SkoshX (https://skoshx.com)\n * A basic event emitter\n */\n\nimport { IndexableTemplateObject } from \"./util\";\n\ninterface EventEmitterType {\n  events: IndexableTemplateObject<any>;\n  on: (name: string, listener: Function) => void;\n  removeListener: (name: string, listenerToRemove: Function) => void;\n  emit: (name: string, ...args: any[]) => void;\n}\n\n\nexport const EventEmitter: EventEmitterType = {\n  events: {},\n  on: (name: string, listener: Function) => {\n    if (!EventEmitter.events[name]) {\n      EventEmitter.events[name] = [];\n    }\n    EventEmitter.events[name].push(listener);\n  },\n  removeListener: (name: string, listenerToRemove: Function) => {\n    if (!EventEmitter.events[name]) {\n      throw Error(`Can't remove event listener. Event ${name} doesn't exist.`);\n    }\n    const filterListeners = (listener: any) => listener !== listenerToRemove;\n    EventEmitter.events[name] = EventEmitter.events[name].filter(\n      filterListeners\n    );\n  },\n  emit: (name: string, ...args: any[]) => {\n    const fireCallbacks = (callback: any) => {\n      callback(...args);\n    };\n    EventEmitter.events[name]?.forEach(fireCallbacks);\n  },\n};\n","/*! MIT License  Sindre Sorhus */\n\nconst globals = {};\n\nconst globalProperties = [\n\t'Headers',\n\t'Request',\n\t'Response',\n\t'ReadableStream',\n\t'fetch',\n\t'AbortController',\n\t'FormData'\n];\n\nfor (const property of globalProperties) {\n\tObject.defineProperty(globals, property, {\n\t\tget() {\n\t\t\tconst value = globalThis[property];\n\t\t\treturn typeof value === 'function' ? value.bind(globalThis) : value;\n\t\t}\n\t});\n}\n\nconst isObject = value => value !== null && typeof value === 'object';\nconst supportsAbortController = typeof globals.AbortController === 'function';\nconst supportsStreams = typeof globals.ReadableStream === 'function';\nconst supportsFormData = typeof globals.FormData === 'function';\n\nconst mergeHeaders = (source1, source2) => {\n\tconst result = new globals.Headers(source1 || {});\n\tconst isHeadersInstance = source2 instanceof globals.Headers;\n\tconst source = new globals.Headers(source2 || {});\n\n\tfor (const [key, value] of source) {\n\t\tif ((isHeadersInstance && value === 'undefined') || value === undefined) {\n\t\t\tresult.delete(key);\n\t\t} else {\n\t\t\tresult.set(key, value);\n\t\t}\n\t}\n\n\treturn result;\n};\n\nconst deepMerge = (...sources) => {\n\tlet returnValue = {};\n\tlet headers = {};\n\n\tfor (const source of sources) {\n\t\tif (Array.isArray(source)) {\n\t\t\tif (!(Array.isArray(returnValue))) {\n\t\t\t\treturnValue = [];\n\t\t\t}\n\n\t\t\treturnValue = [...returnValue, ...source];\n\t\t} else if (isObject(source)) {\n\t\t\tfor (let [key, value] of Object.entries(source)) {\n\t\t\t\tif (isObject(value) && (key in returnValue)) {\n\t\t\t\t\tvalue = deepMerge(returnValue[key], value);\n\t\t\t\t}\n\n\t\t\t\treturnValue = {...returnValue, [key]: value};\n\t\t\t}\n\n\t\t\tif (isObject(source.headers)) {\n\t\t\t\theaders = mergeHeaders(headers, source.headers);\n\t\t\t}\n\t\t}\n\n\t\treturnValue.headers = headers;\n\t}\n\n\treturn returnValue;\n};\n\nconst requestMethods = [\n\t'get',\n\t'post',\n\t'put',\n\t'patch',\n\t'head',\n\t'delete'\n];\n\nconst responseTypes = {\n\tjson: 'application/json',\n\ttext: 'text/*',\n\tformData: 'multipart/form-data',\n\tarrayBuffer: '*/*',\n\tblob: '*/*'\n};\n\nconst retryMethods = [\n\t'get',\n\t'put',\n\t'head',\n\t'delete',\n\t'options',\n\t'trace'\n];\n\nconst retryStatusCodes = [\n\t408,\n\t413,\n\t429,\n\t500,\n\t502,\n\t503,\n\t504\n];\n\nconst retryAfterStatusCodes = [\n\t413,\n\t429,\n\t503\n];\n\nconst stop = Symbol('stop');\n\nclass HTTPError extends Error {\n\tconstructor(response, request, options) {\n\t\t// Set the message to the status text, such as Unauthorized,\n\t\t// with some fallbacks. This message should never be undefined.\n\t\tsuper(\n\t\t\tresponse.statusText ||\n\t\t\tString(\n\t\t\t\t(response.status === 0 || response.status) ?\n\t\t\t\t\tresponse.status : 'Unknown response error'\n\t\t\t)\n\t\t);\n\t\tthis.name = 'HTTPError';\n\t\tthis.response = response;\n\t\tthis.request = request;\n\t\tthis.options = options;\n\t}\n}\n\nclass TimeoutError extends Error {\n\tconstructor(request) {\n\t\tsuper('Request timed out');\n\t\tthis.name = 'TimeoutError';\n\t\tthis.request = request;\n\t}\n}\n\nconst delay = ms => new Promise(resolve => setTimeout(resolve, ms));\n\n// `Promise.race()` workaround (#91)\nconst timeout = (request, abortController, options) =>\n\tnew Promise((resolve, reject) => {\n\t\tconst timeoutID = setTimeout(() => {\n\t\t\tif (abortController) {\n\t\t\t\tabortController.abort();\n\t\t\t}\n\n\t\t\treject(new TimeoutError(request));\n\t\t}, options.timeout);\n\n\t\t/* eslint-disable promise/prefer-await-to-then */\n\t\toptions.fetch(request)\n\t\t\t.then(resolve)\n\t\t\t.catch(reject)\n\t\t\t.then(() => {\n\t\t\t\tclearTimeout(timeoutID);\n\t\t\t});\n\t\t/* eslint-enable promise/prefer-await-to-then */\n\t});\n\nconst normalizeRequestMethod = input => requestMethods.includes(input) ? input.toUpperCase() : input;\n\nconst defaultRetryOptions = {\n\tlimit: 2,\n\tmethods: retryMethods,\n\tstatusCodes: retryStatusCodes,\n\tafterStatusCodes: retryAfterStatusCodes\n};\n\nconst normalizeRetryOptions = (retry = {}) => {\n\tif (typeof retry === 'number') {\n\t\treturn {\n\t\t\t...defaultRetryOptions,\n\t\t\tlimit: retry\n\t\t};\n\t}\n\n\tif (retry.methods && !Array.isArray(retry.methods)) {\n\t\tthrow new Error('retry.methods must be an array');\n\t}\n\n\tif (retry.statusCodes && !Array.isArray(retry.statusCodes)) {\n\t\tthrow new Error('retry.statusCodes must be an array');\n\t}\n\n\treturn {\n\t\t...defaultRetryOptions,\n\t\t...retry,\n\t\tafterStatusCodes: retryAfterStatusCodes\n\t};\n};\n\n// The maximum value of a 32bit int (see issue #117)\nconst maxSafeTimeout = 2147483647;\n\nclass Ky {\n\tconstructor(input, options = {}) {\n\t\tthis._retryCount = 0;\n\t\tthis._input = input;\n\t\tthis._options = {\n\t\t\t// TODO: credentials can be removed when the spec change is implemented in all browsers. Context: https://www.chromestatus.com/feature/4539473312350208\n\t\t\tcredentials: this._input.credentials || 'same-origin',\n\t\t\t...options,\n\t\t\theaders: mergeHeaders(this._input.headers, options.headers),\n\t\t\thooks: deepMerge({\n\t\t\t\tbeforeRequest: [],\n\t\t\t\tbeforeRetry: [],\n\t\t\t\tafterResponse: []\n\t\t\t}, options.hooks),\n\t\t\tmethod: normalizeRequestMethod(options.method || this._input.method),\n\t\t\tprefixUrl: String(options.prefixUrl || ''),\n\t\t\tretry: normalizeRetryOptions(options.retry),\n\t\t\tthrowHttpErrors: options.throwHttpErrors !== false,\n\t\t\ttimeout: typeof options.timeout === 'undefined' ? 10000 : options.timeout,\n\t\t\tfetch: options.fetch || globals.fetch\n\t\t};\n\n\t\tif (typeof this._input !== 'string' && !(this._input instanceof URL || this._input instanceof globals.Request)) {\n\t\t\tthrow new TypeError('`input` must be a string, URL, or Request');\n\t\t}\n\n\t\tif (this._options.prefixUrl && typeof this._input === 'string') {\n\t\t\tif (this._input.startsWith('/')) {\n\t\t\t\tthrow new Error('`input` must not begin with a slash when using `prefixUrl`');\n\t\t\t}\n\n\t\t\tif (!this._options.prefixUrl.endsWith('/')) {\n\t\t\t\tthis._options.prefixUrl += '/';\n\t\t\t}\n\n\t\t\tthis._input = this._options.prefixUrl + this._input;\n\t\t}\n\n\t\tif (supportsAbortController) {\n\t\t\tthis.abortController = new globals.AbortController();\n\t\t\tif (this._options.signal) {\n\t\t\t\tthis._options.signal.addEventListener('abort', () => {\n\t\t\t\t\tthis.abortController.abort();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis._options.signal = this.abortController.signal;\n\t\t}\n\n\t\tthis.request = new globals.Request(this._input, this._options);\n\n\t\tif (this._options.searchParams) {\n\t\t\tconst searchParams = '?' + new URLSearchParams(this._options.searchParams).toString();\n\t\t\tconst url = this.request.url.replace(/(?:\\?.*?)?(?=#|$)/, searchParams);\n\n\t\t\t// To provide correct form boundary, Content-Type header should be deleted each time when new Request instantiated from another one\n\t\t\tif (((supportsFormData && this._options.body instanceof globals.FormData) || this._options.body instanceof URLSearchParams) && !(this._options.headers && this._options.headers['content-type'])) {\n\t\t\t\tthis.request.headers.delete('content-type');\n\t\t\t}\n\n\t\t\tthis.request = new globals.Request(new globals.Request(url, this.request), this._options);\n\t\t}\n\n\t\tif (this._options.json !== undefined) {\n\t\t\tthis._options.body = JSON.stringify(this._options.json);\n\t\t\tthis.request.headers.set('content-type', 'application/json');\n\t\t\tthis.request = new globals.Request(this.request, {body: this._options.body});\n\t\t}\n\n\t\tconst fn = async () => {\n\t\t\tif (this._options.timeout > maxSafeTimeout) {\n\t\t\t\tthrow new RangeError(`The \\`timeout\\` option cannot be greater than ${maxSafeTimeout}`);\n\t\t\t}\n\n\t\t\tawait delay(1);\n\t\t\tlet response = await this._fetch();\n\n\t\t\tfor (const hook of this._options.hooks.afterResponse) {\n\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\tconst modifiedResponse = await hook(\n\t\t\t\t\tthis.request,\n\t\t\t\t\tthis._options,\n\t\t\t\t\tthis._decorateResponse(response.clone())\n\t\t\t\t);\n\n\t\t\t\tif (modifiedResponse instanceof globals.Response) {\n\t\t\t\t\tresponse = modifiedResponse;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._decorateResponse(response);\n\n\t\t\tif (!response.ok && this._options.throwHttpErrors) {\n\t\t\t\tthrow new HTTPError(response, this.request, this._options);\n\t\t\t}\n\n\t\t\t// If `onDownloadProgress` is passed, it uses the stream API internally\n\t\t\t/* istanbul ignore next */\n\t\t\tif (this._options.onDownloadProgress) {\n\t\t\t\tif (typeof this._options.onDownloadProgress !== 'function') {\n\t\t\t\t\tthrow new TypeError('The `onDownloadProgress` option must be a function');\n\t\t\t\t}\n\n\t\t\t\tif (!supportsStreams) {\n\t\t\t\t\tthrow new Error('Streams are not supported in your environment. `ReadableStream` is missing.');\n\t\t\t\t}\n\n\t\t\t\treturn this._stream(response.clone(), this._options.onDownloadProgress);\n\t\t\t}\n\n\t\t\treturn response;\n\t\t};\n\n\t\tconst isRetriableMethod = this._options.retry.methods.includes(this.request.method.toLowerCase());\n\t\tconst result = isRetriableMethod ? this._retry(fn) : fn();\n\n\t\tfor (const [type, mimeType] of Object.entries(responseTypes)) {\n\t\t\tresult[type] = async () => {\n\t\t\t\tthis.request.headers.set('accept', this.request.headers.get('accept') || mimeType);\n\n\t\t\t\tconst response = (await result).clone();\n\n\t\t\t\tif (type === 'json') {\n\t\t\t\t\tif (response.status === 204) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (options.parseJson) {\n\t\t\t\t\t\treturn options.parseJson(await response.text());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn response[type]();\n\t\t\t};\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t_calculateRetryDelay(error) {\n\t\tthis._retryCount++;\n\n\t\tif (this._retryCount < this._options.retry.limit && !(error instanceof TimeoutError)) {\n\t\t\tif (error instanceof HTTPError) {\n\t\t\t\tif (!this._options.retry.statusCodes.includes(error.response.status)) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tconst retryAfter = error.response.headers.get('Retry-After');\n\t\t\t\tif (retryAfter && this._options.retry.afterStatusCodes.includes(error.response.status)) {\n\t\t\t\t\tlet after = Number(retryAfter);\n\t\t\t\t\tif (Number.isNaN(after)) {\n\t\t\t\t\t\tafter = Date.parse(retryAfter) - Date.now();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tafter *= 1000;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof this._options.retry.maxRetryAfter !== 'undefined' && after > this._options.retry.maxRetryAfter) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn after;\n\t\t\t\t}\n\n\t\t\t\tif (error.response.status === 413) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst BACKOFF_FACTOR = 0.3;\n\t\t\treturn BACKOFF_FACTOR * (2 ** (this._retryCount - 1)) * 1000;\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\t_decorateResponse(response) {\n\t\tif (this._options.parseJson) {\n\t\t\tresponse.json = async () => {\n\t\t\t\treturn this._options.parseJson(await response.text());\n\t\t\t};\n\t\t}\n\n\t\treturn response;\n\t}\n\n\tasync _retry(fn) {\n\t\ttry {\n\t\t\treturn await fn();\n\t\t} catch (error) {\n\t\t\tconst ms = Math.min(this._calculateRetryDelay(error), maxSafeTimeout);\n\t\t\tif (ms !== 0 && this._retryCount > 0) {\n\t\t\t\tawait delay(ms);\n\n\t\t\t\tfor (const hook of this._options.hooks.beforeRetry) {\n\t\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\t\tconst hookResult = await hook({\n\t\t\t\t\t\trequest: this.request,\n\t\t\t\t\t\toptions: this._options,\n\t\t\t\t\t\terror,\n\t\t\t\t\t\tretryCount: this._retryCount\n\t\t\t\t\t});\n\n\t\t\t\t\t// If `stop` is returned from the hook, the retry process is stopped\n\t\t\t\t\tif (hookResult === stop) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this._retry(fn);\n\t\t\t}\n\n\t\t\tif (this._options.throwHttpErrors) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync _fetch() {\n\t\tfor (const hook of this._options.hooks.beforeRequest) {\n\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\tconst result = await hook(this.request, this._options);\n\n\t\t\tif (result instanceof Request) {\n\t\t\t\tthis.request = result;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (result instanceof Response) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\n\t\tif (this._options.timeout === false) {\n\t\t\treturn this._options.fetch(this.request.clone());\n\t\t}\n\n\t\treturn timeout(this.request.clone(), this.abortController, this._options);\n\t}\n\n\t/* istanbul ignore next */\n\t_stream(response, onDownloadProgress) {\n\t\tconst totalBytes = Number(response.headers.get('content-length')) || 0;\n\t\tlet transferredBytes = 0;\n\n\t\treturn new globals.Response(\n\t\t\tnew globals.ReadableStream({\n\t\t\t\tasync start(controller) {\n\t\t\t\t\tconst reader = response.body.getReader();\n\n\t\t\t\t\tif (onDownloadProgress) {\n\t\t\t\t\t\tonDownloadProgress({percent: 0, transferredBytes: 0, totalBytes}, new Uint8Array());\n\t\t\t\t\t}\n\n\t\t\t\t\tasync function read() {\n\t\t\t\t\t\tconst {done, value} = await reader.read();\n\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\tcontroller.close();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (onDownloadProgress) {\n\t\t\t\t\t\t\ttransferredBytes += value.byteLength;\n\t\t\t\t\t\t\tconst percent = totalBytes === 0 ? 0 : transferredBytes / totalBytes;\n\t\t\t\t\t\t\tonDownloadProgress({percent, transferredBytes, totalBytes}, value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontroller.enqueue(value);\n\t\t\t\t\t\tawait read();\n\t\t\t\t\t}\n\n\t\t\t\t\tawait read();\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n}\n\nconst validateAndMerge = (...sources) => {\n\tfor (const source of sources) {\n\t\tif ((!isObject(source) || Array.isArray(source)) && typeof source !== 'undefined') {\n\t\t\tthrow new TypeError('The `options` argument must be an object');\n\t\t}\n\t}\n\n\treturn deepMerge({}, ...sources);\n};\n\nconst createInstance = defaults => {\n\tconst ky = (input, options) => new Ky(input, validateAndMerge(defaults, options));\n\n\tfor (const method of requestMethods) {\n\t\tky[method] = (input, options) => new Ky(input, validateAndMerge(defaults, options, {method}));\n\t}\n\n\tky.HTTPError = HTTPError;\n\tky.TimeoutError = TimeoutError;\n\tky.create = newDefaults => createInstance(validateAndMerge(newDefaults));\n\tky.extend = newDefaults => createInstance(validateAndMerge(defaults, newDefaults));\n\tky.stop = stop;\n\n\treturn ky;\n};\n\nconst ky = createInstance();\n\nexport default ky;\n","/**\n * SkoshX (https://skoshx.com)\n * Simple logger\n */\n\nimport { DEBUG } from \"./config\";\n\nexport enum LogLevels {\n  Verbose, Info,\n  Warning, Error,\n  None,\n};\n\nexport class Logger {\n  private static LogLevel = DEBUG ? LogLevels.Verbose : LogLevels.Error;\n  static setLogLevel(level: LogLevels) {\n    Logger.LogLevel = level;\n  }\n  static log(message: string, level: LogLevels = LogLevels.Verbose) {\n    const icons = [\"\", \"\", \"\", \"\"];\n    if (level >= Logger.LogLevel || level >= (window as any).LogLevel) {\n      if (level >= LogLevels.Error) {\n        console.trace(`${icons[level]} ${message}`); // Stacktraces for errors, helps debugging\n      } else {\n        console.log(`${icons[level]} ${message}`);\n      }\n    }\n  }\n}\n","/**\n * SkoshX (https://skoshx.com)\n * Progress component (loading bar on the top of the viewport)\n */\n\nimport { h } from \"preact\";\nimport { useState, useRef, useEffect } from \"preact/hooks\";\nimport { EventEmitter } from \"../event\";\nimport { animation, PropertySetter, fadeOut, fadeIn } from \"../animation\";\n\nexport enum ProgressEvents {\n  Progress = \"PROGRESS_EVENT_PROGRESS\",\n  AddProgress = \"PROGRESS_EVENT_PROGRESS_ADD\",\n  Finished = \"PROGRESS_EVENT_FINISHED\",\n};\n\n// const PROGRESS_COLOR = \"var(--theme-color)\";\n\nexport const Progress = () => {\n  const progressRef = useRef<HTMLDivElement>();\n  const [progressEvent, setProgressEvent] = useState<ProgressEvents>(null);\n  const [progress, setProgress] = useState(0);\n\n  useEffect(() => {\n    // Set color\n    //progressRef.current.style.background = PROGRESS_COLOR;\n    //progressRef.current.style.color = PROGRESS_COLOR;\n    // Animate according to progress\n    const width = parseFloat(progressRef.current.style.width);\n    fadeIn(progressRef.current);\n    animation(\n      { from: width, to: progress * 100 },\n      progressRef.current,\n      PropertySetter(\"width\", \"%\")\n    );\n  }, [progress]);\n  EventEmitter.on(ProgressEvents.AddProgress, (add: number) => {\n    setProgress(progress + add);\n  });\n  EventEmitter.on(ProgressEvents.Progress, (progress: number) => {\n    setProgress(progress);\n  });\n\n  EventEmitter.on(ProgressEvents.Finished, () => {\n    (async () => {\n      const width = parseFloat(progressRef.current.style.width);\n      await animation(\n        { from: width, to: 100 },\n        progressRef.current,\n        PropertySetter(\"width\", \"%\")\n      );\n      await fadeOut(progressRef.current);\n      progressRef.current.style.width = '0';\n      setProgress(0); // Reset progress\n    })();\n  });\n\n  return (\n    <div\n      ref={progressRef}\n      id=\"progress\"\n      className=\"u-shadow\"\n      style=\"position: fixed; top: 0; left: 0; height: 4px; width: 0%; background: var(--theme-color);\"\n      role=\"progressbar\"\n      aria-valuemin=\"0\"\n      aria-valuemax=\"100\"\n      aria-valuenow={Math.round(progress * 100)}\n    >\n    </div>\n  );\n};\n","/**\n * SkoshX (https://skoshx.com)\n * Utility functions\n */\n\nimport { getAvailabilityEndpoint, getProductsEndpoint } from \"./config\";\nimport { EventEmitter } from \"./event\";\nimport ky from 'ky';\nimport { Logger, LogLevels } from \"./logger\";\nimport { report } from \"process\";\nimport { availabilityResponse, productResponse } from \"./mock\";\nimport { markAsUntransferable } from \"worker_threads\";\nimport { ProgressEvents } from \"./components/progress\";\nimport { TimeoutError } from \"got/dist/source/core/utils/timed-out\";\n\n/**\n * Returns the saved value of a cookie, or null if not set\n * @param {string} name Name of the cookie\n */\nexport function getCookie(name: string) {\n  var nameEQ = name + \"=\";\n  var ca = document.cookie.split(\";\");\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) === \" \") c = c.substring(1, c.length);\n    if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n  }\n  return null;\n}\n\nexport function setCookie(name: string, value: string, days: number) {\n  var expires = \"\";\n  if (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    expires = \"; expires=\" + date.toUTCString();\n  }\n  document.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\n}\n\nexport const isTouchDevice = () => {\n  return \"ontouchstart\" in window;\n};\n\nexport interface IndexableTemplateObject<T> {\n  [key: string]: T;\n}\n\nexport function capitalize(s: string) {\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\n// API requests\n\nexport function parseJSON(json: string): any | null {\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    return null;\n  }\n}\n\nexport interface Product {\n  id: string;\n  type: string;\n  name: string;\n  color: string[];\n  price: number;\n  manufacturer: string;\n}\n\nexport async function getProducts(category: string, errorMode?: boolean): Promise<Product[]> {\n  const endpoint = getProductsEndpoint(category);\n  const api = getApi(errorMode);\n  try {\n    EventEmitter.emit(ProgressEvents.Progress, 0.3);\n    const response = await api.get(endpoint).json() as Product[];\n    EventEmitter.emit(ProgressEvents.Finished);\n    return response;\n    // return await api.get(endpoint).json() as Product[];\n  } catch (e: any) {\n    Logger.log(e, LogLevels.Error);\n    EventEmitter.emit(ProgressEvents.Finished);\n  }\n  return [];\n}\n\nexport interface Availability {\n  id: string;\n  DATAPAYLOAD: string;\n}\nexport interface AvailabilityResponse {\n  code: number;\n  response: Availability[];\n}\n\nexport type TAvailability = \"instock\" | \"outofstock\" | \"lessthan10\" | \"notfound\";\nexport async function getAvailabilityById(manufacturer: string, id: string, errorMode?: boolean): Promise<TAvailability> {\n  const endpoint = getAvailabilityEndpoint(manufacturer);\n  const api = getApi(errorMode);\n  try {\n    EventEmitter.emit(ProgressEvents.Progress, 0.3);\n    const response: AvailabilityResponse = await api.get(endpoint).json();\n    EventEmitter.emit(ProgressEvents.Finished);\n    const results = response.response;\n    if (typeof results === \"string\") return \"notfound\"; // Handle error case\n    for (let i = 0; i < results.length; i++) {\n      if (results[i].id.toLowerCase() == id) {\n        const parser = new DOMParser();\n        const xml = parser.parseFromString(results[i].DATAPAYLOAD, \"text/xml\");\n        const availability = xml.getElementsByTagName(\"INSTOCKVALUE\")[0].textContent.toLowerCase() as TAvailability;\n        return availability;\n      }\n    }\n  } catch (e) {\n    Logger.log(e, LogLevels.Error);\n    EventEmitter.emit(ProgressEvents.Finished);\n  }\n  return \"notfound\";\n}\n\nexport function getApi(errorMode?: boolean) {\n  if (errorMode) {\n    return ky.extend({\n      timeout: false,\n      hooks: {\n        beforeRequest: [\n          request => {\n            request.headers.set('x-force-error-mode', 'all');\n          }\n        ]\n      }\n    });\n  } else {\n    return ky.extend({ timeout: false });\n  }\n}\n","/**\n * SkoshX (https://skoshx.com)\n * Tab component\n */\n\nimport { h, ComponentChildren } from \"preact\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport {\n  animation,\n  SpringTypes,\n  PropertySetter,\n  SetterFunction\n} from \"../animation\";\nimport { Spring } from \"wobble\";\nimport { capitalize } from \"../util\";\n\nexport interface TabSwitcherProps {\n  tabs: string[];\n  active: number;\n  styles?: string | { [key: string]: string | number };\n  onChange?: (tab: number) => void;\n}\n\nexport const TabSwitcher = (props: TabSwitcherProps) => {\n  const pill = useRef(null);\n  const tabSwitcherElement = useRef(null);\n  const [activeTab, setActiveTab] = useState(props.active);\n\n  const tabs = props.tabs.map((item: string, index: number) => {\n    return (\n      <div\n        className={\"tab\" + (activeTab === index ? \" active\" : \"\")}\n        onClick={() => {\n          setActiveTab(index);\n          props?.onChange(index);\n        }}\n      >\n        {capitalize(item)}\n      </div>\n    );\n  });\n\n  useEffect(() => {\n    // Animate pill\n    const currentLeft = pill.current.offsetLeft;\n    const currentWidth = parseFloat(getComputedStyle(pill.current).width);\n    const activeItem = tabSwitcherElement.current.querySelector(\".active\");\n    const activeWidth = parseFloat(getComputedStyle(activeItem).width);\n    const activeLeft = activeItem.offsetLeft;\n    animation(\n      { from: currentWidth, to: activeWidth },\n      pill.current,\n      PropertySetter(\"width\", \"px\"),\n      null,\n      SpringTypes.SLOWED\n    );\n    animation(\n      { from: currentLeft, to: activeLeft },\n      pill.current,\n      PropertySetter(\"left\", \"px\"),\n      null,\n      SpringTypes.SLOWED\n    );\n  }, [activeTab]);\n  return (\n    <div className=\"tab-switcher\" ref={tabSwitcherElement} style={props.styles}>\n      <div className=\"background-pill tab\" ref={pill}></div>\n      {...tabs}\n    </div>\n  );\n};\n\nexport const Tab = (props: { tab: number; children: ComponentChildren[] }) => {\n  const tabRef = useRef(null);\n  useEffect(() => {\n    // Fade out, then fade in\n    // const desc = { from: 0, to: tabRef.current.scrollHeight };\n    // collapse(tabRef.current);\n    // expand(tabRef.current);\n    /*animation(desc, tabRef.current, (el: HTMLElement, s: Spring) => {\n      el.style.height = s.currentValue + 'px';\n    });*/\n  }, [props.tab]);\n  return (\n    <div style=\"width: 100%; height: 100%;\" ref={tabRef}>\n      {props.children[props.tab]}\n    </div>\n  );\n  // return props.children[props.tab];\n};\n","/**\n * SkoshX (https://skoshx.com)\n * Main app component\n */\n\nimport { h, render, Component } from \"preact\";\nimport Router from \"preact-router\";\n// CSS\nimport \"./styles/style.scss\";\n\nimport { Header } from \"./components/header\";\nimport { TabSwitcher, Tab } from \"./components/tab\";\nimport { Product, getProducts, TAvailability, getAvailabilityById, IndexableTemplateObject } from \"./util\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport { collapse, expand, fadeIn, fadeOut } from \"./animation\";\nimport { Progress } from \"./components/progress\";\nimport { EventEmitter } from \"./event\";\n\nexport interface Props {}\nexport interface State {\n  tab: number;\n}\n\nclass App extends Component<Props, State> {\n  private readonly TABS = [\"gloves\", \"facemasks\", \"beanies\"];\n\n  constructor() {\n    super();\n\n    // Initialize state\n    this.state = { tab: this._getCurrentTab() };\n\n    // Scroll listener\n    document.addEventListener('scroll', () => {\n      if (window.scrollY > document.body.scrollHeight * 0.9) {\n        EventEmitter.emit(\"AddProducts\");\n      }\n    }, { passive: true });\n  }\n  \n  private _getCurrentTab() {\n    for (let i = 0; i < this.TABS.length; i++) {\n      if (location.pathname === `/${this.TABS[i]}`) return i;\n    }\n    return 0;\n  }\n\n  componentDidUpdate() {\n    // Update path\n    history.pushState(null, \"\", `/${this.TABS[this.state.tab]}`);\n  }\n\n  render() {\n    interface AvailabilityProps {\n      manufacturer: string;\n      id: string;\n    }\n    const Availability = ({ manufacturer, id }: AvailabilityProps) => {\n      const [availability, setAvailability] = useState<TAvailability>(null);\n      const [loading, setLoading] = useState(false);\n      const availabilityRef = useRef<HTMLDivElement>(null);\n      // Just a button that expands to show availability\n      const showAvailability = async () => {\n        setLoading(true);\n        const result = await getAvailabilityById(manufacturer, id);\n        setLoading(false);\n        setAvailability(result);\n      }\n      const availabilityToString = (availability: TAvailability) => {\n        const availabilityStrings = {\n          instock: \"In stock\", lessthan10: \"Less than 10\",\n          outofstock: \"Out of stock\", notfound: \"Information not available\"\n        };\n        return availabilityStrings[availability];\n      }\n      useEffect(() => {\n        if (availability) expand(availabilityRef.current);\n        // if (availability) availabilityRef.current.style.height = '100%';\n      }, [availability]);\n      const buttonContent = loading ? \"loading\" : \"show availability\";\n      return (\n        <div className=\"availability-container\">\n          <div className=\"button\" onClick={showAvailability}>{buttonContent}</div>\n          <div className=\"availability\" ref={availabilityRef} style=\"overflow: hidden; height: 0;\">\n            <h5 style=\"margin: 0;\">Availability: {availabilityToString(availability)}</h5>\n          </div>\n        </div>\n      )\n    }\n    interface ProductProps {\n      path: string;\n      product?: string;\n    }\n    const Product = (props: ProductProps) => {\n      const product = this.TABS[this.state.tab];\n      const [loadedProducts, setLoadedProducts] = useState<Product[]>([]);\n      const [visibleProducts, setVisibleProducts] = useState<Product[]>([]);\n      EventEmitter.on(\"AddProducts\", () => {\n        // add products\n        const newVisible = [...visibleProducts, ...loadedProducts.slice(0, Math.min(100, loadedProducts.length))];\n        const newLoaded = loadedProducts.slice(Math.min(100, loadedProducts.length), loadedProducts.length);\n        setVisibleProducts(newVisible);\n        setLoadedProducts(newLoaded);\n      });\n      /*document.addEventListener('scroll', (e: MouseEvent) => {\n        console.log(\"SCroll\", window.scrollY, document.body.scrollHeight);\n      }, { passive: true });*/\n      useEffect(() => {\n        (async () => { // Async IIFE since async useEffect is not yet implemented.\n          await fadeOut(document.querySelector('.product-container'));\n          let productsResult = await getProducts(product);\n          // Visible products [0-100]\n          // Loaded products [100-]\n          setVisibleProducts(productsResult.slice(0, Math.min(100, productsResult.length)));\n          setLoadedProducts(productsResult.slice(Math.min(100, productsResult.length), productsResult.length));\n          await fadeIn(document.querySelector('.product-container'));\n        })();\n      }, [product]);\n      const productElements = visibleProducts.map((product: Product, index: number) => {\n        const colors = product.color.map((color) => {\n          const colorObject: IndexableTemplateObject<string> = {\n            blue: '#3498db', white: '#ecf0f1',\n            green: '#2ecc71', yellow: '#f1c40f',\n            grey: '#7f8c8d', red: '#e74c3c',\n            black: '#222', purple: '#9b59b6'\n          };\n          return (\n            <div className=\"color-circle\" style={{backgroundColor: colorObject[color], width: '20px', height: '20px', borderRadius: '9999px', border: '2px solid #2c3e50', marginRight: '0.2rem'}}></div>\n          );\n        });\n        return (\n          <div className=\"product\">\n            <h2 style=\"color: var(--theme-color);\">{product.name}</h2>\n            <h6 class=\"h-small\">{product.manufacturer}</h6>\n            <h2 style=\"font-weight: 200;\">{product.price}</h2>\n            <div className=\"color-container\" style=\"display: flex; margin-bottom: 1.5rem;\">\n              {colors}\n            </div>\n            <Availability manufacturer={product.manufacturer} id={product.id} />\n          </div>\n        );\n      });\n      return (\n        <div className=\"product-container u-spacing-30\">\n          {productElements}\n        </div>\n      );\n    }\n    return (\n      <div>\n        <div\n          className=\"main-container u-flex-center-horizontal u-spacing\"\n          style=\"padding: 0 2rem;\"\n        >\n          <Header />\n          <TabSwitcher\n            onChange={async (tab: number) => {\n              this.setState({ tab });\n            }}\n            tabs={this.TABS}\n            active={this.state.tab}\n          />\n          <Router>\n            <Product path=\"/:product\" />\n            <Product path=\"/\" />\n          </Router>\n        </div>\n        <Progress />\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.getElementById(\"root\"));\n"]}